---
title: 正则表达式入门
categories: javascript
tags: JavaScript
date: 2018-12-03 16:55:00
---
# 定义一个正则表达式
表达式有两种方法
```bash
# 第一种 /正则表达式/
let reg1 = /hell \w{3,12}/g

# 第二种 new RegExp('正则表达式')
let reg2 = new RegExp('hello \\w{3,12}', 'g')
```
| 属性 | 描述  |
| ------  | ------|
| global| RegExp 对象是否具有标志 g |
| ignoreCase |RegExp 对象是否具有标志 i |
| lastIndex | 一个整数，标示开始下一次匹配的字符位置 |
| multiline	 | RegExp 对象是否具有标志 m |
| source | 	正则表达式的源文本 |
# 调用regExp对象
## test()
检索字符串中指定的值。返回 true 或 false。这个是我们平时最常用的方法
```bash
let reg = /hello \w{3,12}/
reg.test('hello js') # false
reg.test('hello javascript') # true
```
## exec()
检索字符串中指定的值。匹配成功返回一个数组，匹配失败返回null。
```bash
let reg = /hello/
reg.exec('hellojs') # ['hello']
reg.exec('javascript') # null
```
## compile()
compile() 方法用于改变 RegExp。
compile() 既可以改变检索模式，也可以添加或删除第二个参数。
```bash
let reg = /hello/
reg.exec('hellojs')  # ['hello']
reg.compile('Hello')
reg.exec('hellojs)   # null
reg.compile('hello', 'i')
reg.exec('hellojs')  # ['hello']
```

# 实战如何写一个正则
## 验证QQ号的合法性
合法qq号规则：1、5-15位；2、全是数字；3、不以0开头
### 第一步：拆成（取值范围+量词）这样的组合
根据QQ号的验证规则，我们可以拆成两个（取值范围+量词）的组合。分别是：
```bash
1.（1~9的数字，1个）；2.（0~9的数字，4~14个）
```
### 第二步：根据正则表达式规则翻译（取值范围+量词）
```bash
1.（1~9的数字，1个）     =>   [1-9]{1}或者[1-9]
2.（0~9的数字，4~14个）  =>   [0-9]{4,14}
```
### 第三步：写法
```bash
/^[1-9][0-9]{4,14}$/（用^和$指定起止位置）
```