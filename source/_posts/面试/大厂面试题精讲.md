---
title: 面试题
categories: 面试题
tags: 面试题
date: 2018-10-22 09:48:00
---

# 一、数据类型转换
## Number()
- 1、Number(undefined) -> NaN
- 2、Number(null) -> 0
- 3、布尔值 -> true为1，false为0
- 4、字符串
  - 1.空字符串。空格字符串转为0
  - 2.非空字符串。并且内容为纯数字（包含进制与科学表示法）转成对应的数字
  - 3.其余都是NaN
- 5、数字  ->  原来的数字
- 6、对象     
  - 1.对象、函数转为NaN
  - 2.空数组转为0，数组里只有一个数据并且这个数据能转为数字，则转为对应的数字，其他都转成NaN

## String()
- 1、基本数据类型、null、undefined的结构就是给数据加上引号变成字符串
- 2、对象
  - 1.数组的结果为把所有中括号去掉，外面加个引号
  - 2.对象的结果为'[object object]'（除了日期对象）
  - 3.函数的结果为在函数整体外面加个引号

## Boolean()
- 1、undefined -> false
- 2、null  -> false
- 3、数字
  +0、-0、NaN转布尔值的结果为false，其他的布尔值的结果为true
- 4、布尔值     转为对应的值
- 5、字符串
  空字符串转布尔值的结果为false，其他（包括字符串）的都转成true
- 6、对象布尔值都是true

# 二、三个方法参数为对象的调用原理
- 1、数字、字符串、布尔值
  valueOf -> 数据本身（原始值形式）
  toString -> 数据转成字符串的形式
- 2、数组
  valueOf ->  数据本身（对象形式）
  toString -> 去掉中括号，外面加上引号（本质为调用数组join(',')后的结果）
- 3、函数
  valueOf ->  数据本身（对象形式）
  toString -> 在数据外面加上引号
- 4、对象
  valueOf ->  数据本身（对象形式）
  toString -> "[object Objec]"

> valueOf  -> 返回对象对应的原始值
> toString -> 返回对象的字符串的表现形式

```bash
const data = [
  {type: '数字', value: 10},
  {type: '字符串', value: 'kaivon'},
  {type: '布尔值', value: true},
  {type: '数组', value: [1, 2]},
  {type: '函数', value: function(){}},
  {type: '对象', value: {a: 10, b: 20}}
]
for (let i = 0; i < data.length; i++) {
  console.log(
    data[i].type + 'valueOf的结果为', 
    data[i].value.valueOf()
  )
  console.log(
    data[i].type + 'toString的结果为', 
    data[i].value.toString()
  )
}
# 数字valueOf的结果为 10
# 数字toString的结果为 '10'
# 字符串valueOf的结果为 kaivon
# 字符串toString的结果为 'kaivon'
# 布尔值valueOf的结果为 true
# 布尔值toString的结果为 'true'
# 数组valueOf的结果为 (2) [1, 2]
# 数组toString的结果为 '1,2'
# 函数valueOf的结果为 ƒ (){}
# 函数toString的结果为 'function(){}'
# 对象valueOf的结果为 {a: 10, b: 20}
# 对象toString的结果为 '[object Object]'
```

## Number 参数为对象的转换原理
- 1、调用对象的valueOf方法，如果返回的原始类型的值，在使用`Number`函数，不再进行后续步骤 
- 2、如果valueOf方法返回的还是对象，则调用toString方法
- 3、如果toString方法返回的原始类型的值，则对该值使用的`Number`方法，不再进行后续步骤
- 4、如果toString方法返回的还是对象，就报错（一般不会出现）

## String参数对象的转换原理
- 1、调用对象的toString方法，如果返回原始类型的值，再使用`String`函数，不再进行后续步骤
- 2、如果toString方法返回的还是对象，在调用对象的`valueOf`方法
- 3、如果valueOf方法返回原始类型的值，则对该值使用`String`函数，不再进行以下步骤
- 4、如果valueOf方法返回的还是对象，就报错（一般不会出现）

# 三、隐式类型转换的场景
- 1、不同类型的数据运算、比较
- 2、对非布尔值类型的数据求布尔值
- 3、条件语句的包括里

## 隐式转数字出现的场景
- 1、数学运算符（+ - * / %），但是加号运算符不能出现字符串或对象类型数据
- 2、一元+-（正负操作符）后的数据
- 3、某些比较运算符

## 隐式转字符串出现的场景
- 1、有字符串加法运算
- 2、有对象的加法运算
- 3、某些比较运算符
- 4、调用alert、document.write

## 隐式转布尔值出现的场景
- 1、取反运算
  -1. 1个感叹号表示，把这个数据转成布尔值后取他的反值
  -2. 2个感叹号表示，把这个数据转成布尔值
- 2、三目运算符
- 3、条件语句的小括号里
- 4、逻辑运算符

# 四、大小比较
- 1、如果比较两边有字符串，那会对比他们各自对应的Unicode码值，Unicode码值查询地址[在线编码转换](http://tool.oschina.net/encode)
- 2、如果比较两边都为原始类型，那把所有数据转成数字进行对比，NaN与任何数据对比都是false
- 3、有对象数据的比较，先调用valueOf在调用toString方法，然后看另一数据的类型，如果另一个数据类型为字符串，则转为字符串对比，如果一个数据为数字则转为数字对比

> 1.字符串与字符串，字符串与对象，对象与对象比较时，然后对比Unicode码
> 2.其他类型数据，转成数字对比

# 五、相等对比的原理
- 1、不同类型的原始类型数据，把所有的数据转成数字后进行对比
- 2、null与undefined除了它们自己与自己、自己与对方相等，与其他的任何数据都不相等
- 3、对象与原始类型数据比较时，把对象转成原始值，在进行比较
- 4、对象与对象类型比较时，比较的是他们的引用地址，除非引用地址相同，否则都不相等

> 总结
> 1.原始类型对比，转成数字对比
> 2.对象类型对比，把对象转成字符串，然后看对方的类型，如果不一样都转成数字对比，对象与对象比较，比较引用地址
> 3.null与undefined，自己与自己、自己与对方相等，与其他任务数据都不相等